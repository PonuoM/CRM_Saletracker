# ЁЯФз р╕кр╕гр╕╕р╕Ыр╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕╕р╣Ир╕бр╕ер╕╣р╕Бр╕Др╣Йр╕▓

## ЁЯУЛ р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕Юр╕Ъ

р╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕ер╕╣р╕Бр╕Др╣Йр╕▓ `customers.php?action=show&id=1` р╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓р╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Бр╕▒р╕Ър╕Ыр╕╕р╣Ир╕бр╕Хр╣Ир╕▓р╕Зр╣Ж:

1. **р╕Ыр╕╕р╣Ир╕бр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╣Вр╕Чр╕г** - р╣Др╕бр╣Ир╕Чр╕│р╕Зр╕▓р╕Щ
2. **р╕Ыр╕╕р╣Ир╕бр╕Щр╕▒р╕Фр╕лр╕бр╕▓р╕в** - р╣Др╕бр╣Ир╕Чр╕│р╕Зр╕▓р╕Щ  
3. **р╕Ыр╕╕р╣Ир╕бр╕кр╕гр╣Йр╕▓р╕Зр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н** - р╣Др╕бр╣Ир╕Чр╕│р╕Зр╕▓р╕Щ
4. **р╕Ыр╕╕р╣Ир╕бр╣Бр╕Бр╣Йр╣Др╕В** - р╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕Ыр╕Бр╕Хр╕┤
5. **р╕Ыр╕╕р╣Ир╕б +р╣Ар╕Юр╕┤р╣Ир╕б** (р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╣Вр╕Чр╕г) - р╣Др╕бр╣Ир╕Чр╕│р╕Зр╕▓р╕Щ
6. **р╕Ыр╕╕р╣Ир╕б +р╕кр╕гр╣Йр╕▓р╕З** (р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н) - р╣Др╕бр╣Ир╕Чр╕│р╕Зр╕▓р╕Щ

## ЁЯЫая╕П р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Чр╕╡р╣Ир╕Чр╕│

### 1. р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╣Др╕Яр╕ер╣М `assets/js/customer-detail.js`

**р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕лр╕ер╕▒р╕Б:**
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б error handling р╕Чр╕╡р╣Ир╕Фр╕╡р╕Вр╕╢р╣Йр╕Щ
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б console logging р╕кр╕│р╕лр╕гр╕▒р╕Ъ debugging
- тЬЕ р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ `logCall()` р╣Гр╕лр╣Йр╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╣Ар╕кр╕Цр╕╡р╕вр╕г
- тЬЕ р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ `createAppointment()` р╣Гр╕лр╣Йр╕кр╕гр╣Йр╕▓р╕З modal р╣Др╕Фр╣Йр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- тЬЕ р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ `createOrder()` р╣Гр╕лр╣Й redirect р╣Др╕Фр╣Йр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕бр╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ utility р╕кр╕│р╕лр╕гр╕▒р╕Ъ error handling
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б global error handlers

### 2. р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╣Др╕Яр╕ер╣М `app/views/customers/show.php`

**р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕лр╕ер╕▒р╕Б:**
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╕бр╕╡р╕нр╕вр╕╣р╣Ир╕Вр╕нр╕Зр╕Ыр╕╕р╣Ир╕бр╕Бр╣Ир╕нр╕Щр╣Ар╕Юр╕┤р╣Ир╕б event listener
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б console logging р╕кр╕│р╕лр╕гр╕▒р╕Ъ debugging
- тЬЕ р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕З error handling
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б global error handlers

### 3. р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣Мр╕Чр╕Фр╕кр╕нр╕Ъ `test_customer_buttons.php`

**р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М:**
- тЬЕ р╕Чр╕Фр╕кр╕нр╕Ър╕Ыр╕╕р╣Ир╕бр╕лр╕ер╕▒р╕Бр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- тЬЕ р╕Чр╕Фр╕кр╕нр╕Ър╕Ыр╕╕р╣Ир╕бр╣Ар╕Юр╕┤р╣Ир╕бр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- тЬЕ р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М JavaScript
- тЬЕ р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Чр╕╡р╣Ир╣Вр╕лр╕ер╕Ф
- тЬЕ р╕Чр╕Фр╕кр╕нр╕Ъ API endpoints
- тЬЕ р╣Бр╕кр╕Фр╕З console logs р╣Бр╕Ър╕Ъ real-time

## ЁЯОп р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Чр╕╡р╣Ир╕Др╕▓р╕Фр╕лр╕зр╕▒р╕З

р╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╣Бр╕Бр╣Йр╣Др╕Вр╣Бр╕ер╣Йр╕з:

### р╕Ыр╕╕р╣Ир╕бр╕лр╕ер╕▒р╕Б (Main Buttons)
- тЬЕ **р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╣Вр╕Чр╕г** - р╣Ар╕Ыр╕┤р╕Ф modal р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╣Вр╕Чр╕гр╣Др╕Фр╣Й
- тЬЕ **р╕Щр╕▒р╕Фр╕лр╕бр╕▓р╕в** - р╣Ар╕Ыр╕┤р╕Ф modal р╕кр╕гр╣Йр╕▓р╕Зр╕Щр╕▒р╕Фр╕лр╕бр╕▓р╕вр╣Др╕Фр╣Й
- тЬЕ **р╕кр╕гр╣Йр╕▓р╕Зр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н** - redirect р╣Др╕Ыр╕лр╕Щр╣Йр╕▓ orders.php р╣Др╕Фр╣Й
- тЬЕ **р╣Бр╕Бр╣Йр╣Др╕В** - р╣Др╕Ыр╕лр╕Щр╣Йр╕▓р╣Бр╕Бр╣Йр╣Др╕Вр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╣Др╕Фр╣Й

### р╕Ыр╕╕р╣Ир╕бр╣Ар╕Юр╕┤р╣Ир╕б (Add Buttons)
- тЬЕ **+р╣Ар╕Юр╕┤р╣Ир╕б** (р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╣Вр╕Чр╕г) - р╣Ар╕Ыр╕┤р╕Ф modal р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╣Вр╕Чр╕гр╣Др╕Фр╣Й
- тЬЕ **+р╕кр╕гр╣Йр╕▓р╕З** (р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н) - redirect р╣Др╕Ыр╕лр╕Щр╣Йр╕▓ orders.php р╣Др╕Фр╣Й

## ЁЯзк р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ

### 1. р╕Чр╕Фр╕кр╕нр╕Ър╕Фр╣Йр╕зр╕вр╣Др╕Яр╕ер╣Мр╕Чр╕Фр╕кр╕нр╕Ъ
```bash
# р╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╕Чр╕╡р╣Ир╣Др╕Яр╕ер╣Мр╕Чр╕Фр╕кр╕нр╕Ъ
http://localhost/CRM-CURSOR/test_customer_buttons.php
```

### 2. р╕Чр╕Фр╕кр╕нр╕Ър╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕ер╕╣р╕Бр╕Др╣Йр╕▓
```bash
# р╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╕Чр╕╡р╣Ир╕лр╕Щр╣Йр╕▓р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕ер╕╣р╕Бр╕Др╣Йр╕▓
http://localhost/CRM-CURSOR/customers.php?action=show&id=1
```

### 3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Console
р╣Ар╕Ыр╕┤р╕Ф Developer Tools (F12) р╣Бр╕ер╕░р╕Фр╕╣р╕Чр╕╡р╣И Console tab р╣Ар╕Юр╕╖р╣Ир╕нр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:
- Error messages
- Log messages р╕Ир╕▓р╕Бр╣Др╕Яр╕ер╣М JavaScript
- р╕Бр╕▓р╕гр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М JavaScript

## ЁЯУБ р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Бр╕Бр╣Йр╣Др╕В

1. **`assets/js/customer-detail.js`** - р╣Др╕Яр╕ер╣М JavaScript р╕лр╕ер╕▒р╕Б
2. **`app/views/customers/show.php`** - р╕лр╕Щр╣Йр╕▓р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕ер╕╣р╕Бр╕Др╣Йр╕▓
3. **`test_customer_buttons.php`** - р╣Др╕Яр╕ер╣Мр╕Чр╕Фр╕кр╕нр╕Ър╣Гр╕лр╕бр╣И

## ЁЯФН р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ыр╕▒р╕Нр╕лр╕▓

### р╕лр╕▓р╕Бр╕вр╕▒р╕Зр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓:

1. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Console Error**
   - р╣Ар╕Ыр╕┤р╕Ф Developer Tools (F12)
   - р╕Фр╕╣р╕Чр╕╡р╣И Console tab
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ error messages

2. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Network**
   - р╕Фр╕╣р╕Чр╕╡р╣И Network tab
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М JavaScript
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Ар╕гр╕╡р╕вр╕Б API

3. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Cache**
   - р╕Бр╕Ф `Ctrl + F5` (Hard Refresh)
   - р╕ер╣Йр╕▓р╕З Browser Cache
   - р╕Чр╕Фр╕кр╕нр╕Ър╣Гр╕Щ Incognito Mode

## ЁЯЪи р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕░р╕зр╕▒р╕З

1. **Browser Cache** - р╕нр╕▓р╕Ир╕Хр╣Йр╕нр╕З Hard Refresh
2. **JavaScript Errors** - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Console
3. **API Endpoints** - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Вр╕нр╕З API
4. **Session** - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ

## ЁЯУЮ р╕Бр╕▓р╕гр╕кр╕Щр╕▒р╕Ър╕кр╕Щр╕╕р╕Щ

р╕лр╕▓р╕Бр╕вр╕▒р╕Зр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓:
1. р╣Гр╕Кр╣Йр╣Др╕Яр╕ер╣М `test_customer_buttons.php` р╣Ар╕Юр╕╖р╣Ир╕нр╕Чр╕Фр╕кр╕нр╕Ъ
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Console logs
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Network requests
4. р╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╕Ьр╕╣р╣Йр╕Юр╕▒р╕Тр╕Щр╕▓

---

**р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╣Бр╕Бр╣Йр╣Др╕В:** 2025-01-02  
**р╕кр╕Цр╕▓р╕Щр╕░:** тЬЕ р╣Бр╕Бр╣Йр╣Др╕Вр╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ  
**р╕Ьр╕╣р╣Йр╣Бр╕Бр╣Йр╣Др╕В:** AI Assistant 