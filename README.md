# CRM SalesTracker - Customer Management System

## ЁЯУЛ р╕кр╕гр╕╕р╕Ыр╕Др╕зр╕▓р╕бр╕Др╕╖р╕Ър╕лр╕Щр╣Йр╕▓

### тЬЕ р╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щр╣Бр╕ер╣Йр╕з (Completed)

#### 1. Foundation & Authentication
- [x] р╕гр╕░р╕Ър╕Ъ Authentication р╣Бр╕ер╕░ Authorization
- [x] Database Schema р╣Бр╕ер╕░ Initial Data
- [x] Base Models р╣Бр╕ер╕░ Database Services
- [x] Router р╣Бр╕ер╕░ Core Components

#### 2. Dashboard & UI Framework
- [x] Dashboard р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕ер╕░ Role (Admin, Supervisor, Telesales)
- [x] KPI Cards р╣Бр╕ер╕░ Charts
- [x] Responsive Layout р╣Бр╕ер╕░ Design System
- [x] Dynamic Sidebar р╣Бр╕ер╕░ Navigation

#### 3. Customer Management System тЬЕ **р╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ**
- [x] **CustomerService Class** - р╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ
  - р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Бр╕▓р╕гр╕бр╕нр╕Ър╕лр╕бр╕▓р╕вр╕ер╕╣р╕Бр╕Др╣Йр╕▓ (assignCustomers)
  - р╕гр╕░р╕Ър╕Ър╕Фр╕╢р╕Зр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Бр╕ер╕▒р╕Ъ (recallCustomer)
  - р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕кр╕Цр╕▓р╕Щр╕░р╕ер╕╣р╕Бр╕Др╣Йр╕▓ (updateCustomerStatus)
  - р╕гр╕░р╕Ър╕Ъ basket management (distribution, waiting, assigned)
  - р╕Др╕│р╕Щр╕зр╕Ур╣Ар╕Бр╕гр╕Фр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Хр╕▓р╕бр╕вр╕нр╕Фр╕Лр╕╖р╣Йр╕н
  - р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕кр╕Цр╕▓р╕Щр╕░р╕нр╕╕р╕Ур╕лр╕ар╕╣р╕бр╕┤ (Hot, Warm, Cold, Frozen)

- [x] **CustomerController** - р╕Ир╕▒р╕Фр╕Бр╕▓р╕г API р╣Бр╕ер╕░ Business Logic
  - р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕Хр╕▓р╕б Role
  - API endpoints р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕ер╕╣р╕Бр╕Др╣Йр╕▓
  - р╕Бр╕▓р╕гр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╣Бр╕ер╕░р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤

- [x] **Customer Management Interface** - р╕лр╕Щр╣Йр╕▓р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕ер╕╣р╕Бр╕Др╣Йр╕▓
  - Tabs: Do, New, Follow-up, Existing
  - р╕гр╕░р╕Ър╕Ъ Filters (р╕кр╕Цр╕▓р╕Щр╕░, р╣Ар╕Бр╕гр╕Ф, р╕Ир╕▒р╕Зр╕лр╕зр╕▒р╕Ф)
  - Modal р╕кр╕│р╕лр╕гр╕▒р╕Ър╕бр╕нр╕Ър╕лр╕бр╕▓р╕вр╕ер╕╣р╕Бр╕Др╣Йр╕▓
  - р╕гр╕░р╕Ър╕Ър╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╣Вр╕Чр╕г

- [x] **Customer Detail Page** - р╕лр╕Щр╣Йр╕▓р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕ер╕╣р╕Бр╕Др╣Йр╕▓
  - р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ
  - Timeline р╕Вр╕нр╕Зр╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕б
  - р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╣Вр╕Чр╕г
  - р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н
  - р╕гр╕░р╕Ър╕Ър╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╣Вр╕Чр╕г

- [x] **API Endpoints** - RESTful API
  - GET /api/customers.php - р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ер╕╣р╕Бр╕Др╣Йр╕▓
  - POST /api/customers.php - р╕бр╕нр╕Ър╕лр╕бр╕▓р╕вр╕ер╕╣р╕Бр╕Др╣Йр╕▓
  - POST /api/customers.php?action=recall - р╕Фр╕╢р╕Зр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Бр╕ер╕▒р╕Ъ
  - POST /api/customers.php?action=log_call - р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╣Вр╕Чр╕г
  - GET /api/customers.php?action=export - р╕кр╣Ир╕Зр╕нр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е

- [x] **JavaScript Components** - Interactive Features
  - Dynamic table loading
  - Filter system
  - Modal management
  - AJAX calls
  - Form validation

#### 4. Order Management System тЬЕ **р╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ**
- [x] **OrderService Class** - р╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ
  - р╕кр╕гр╣Йр╕▓р╕Зр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╣Гр╕лр╕бр╣И (createOrder)
  - р╕Фр╕╢р╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н (getOrders)
  - р╕Фр╕╢р╕Зр╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н (getOrderDetail)
  - р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕кр╕Цр╕▓р╕Щр╕░р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н (updateOrderStatus)
  - р╕гр╕░р╕Ър╕Ър╕Др╕│р╕Щр╕зр╕Ур╕гр╕▓р╕Др╕▓ р╕кр╣Ир╕зр╕Щр╕ер╕Ф р╣Бр╕ер╕░р╕вр╕нр╕Фр╕кр╕╕р╕Чр╕Шр╕┤
  - р╕кр╕гр╣Йр╕▓р╕Зр╕лр╕бр╕▓р╕вр╣Ар╕ер╕Вр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
  - р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╕Лр╕╖р╣Йр╕нр╕Вр╕нр╕Зр╕ер╕╣р╕Бр╕Др╣Йр╕▓

#### 5. Modal Backdrop Management System тЬЕ **р╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ**
- [x] **Modal Backdrop Cleanup** - р╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕г modal backdrop
  - р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ `cleanupModalBackdrops()` - р╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Ф backdrop р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
  - р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ `forceCleanupBackdrops()` - р╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╣Бр╕Ър╕Ъ aggressive
  - Event listeners р╕кр╕│р╕лр╕гр╕▒р╕Ъ modal events (hidden.bs.modal, hide.bs.modal)
  - р╕Бр╕▓р╕гр╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╕Чр╕╕р╕Б 5 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡
  - Keyboard shortcut (Ctrl+Shift+B) р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╕Фр╣Ир╕зр╕Щ
  - Click handler р╕кр╕│р╕лр╕гр╕▒р╕Ъ backdrop р╕Чр╕╡р╣Ир╣Ар╕лр╕ер╕╖р╕нр╕нр╕вр╕╣р╣И
  - Error handler р╕кр╕│р╕лр╕гр╕▒р╕Ъ modal events
  - CSS rules р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щ backdrop р╕Лр╣Йр╕нр╕Щр╕Чр╕▒р╕Ъ
  - р╕Бр╕▓р╕гр╕ер╕Ъ body classes р╣Бр╕ер╕░ styles р╕Чр╕╡р╣И Bootstrap р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Вр╣Йр╕▓р╕бр╕▓
  - Global functions р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕гр╕╡р╕вр╕Бр╣Гр╕Кр╣Йр╕Ир╕▓р╕Б console
  - Test file р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ (`test_modal_backdrop_cleanup.php`)

- [x] **OrderController** - р╕Ир╕▒р╕Фр╕Бр╕▓р╕г API р╣Бр╕ер╕░ Business Logic
  - р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕Хр╕▓р╕б Role
  - API endpoints р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н
  - р╕Бр╕▓р╕гр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╣Бр╕ер╕░р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤

- [x] **Order Management Interface** - р╕лр╕Щр╣Йр╕▓р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н
  - р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╕Юр╕гр╣Йр╕нр╕б filters р╣Бр╕ер╕░ search
  - р╕гр╕░р╕Ър╕Ъ pagination р╣Бр╕ер╕░ sorting
  - Modal р╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕кр╕Цр╕▓р╕Щр╕░
  - р╕гр╕░р╕Ър╕Ър╕кр╣Ир╕Зр╕нр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Ыр╣Зр╕Щ CSV

- [x] **Order Detail Page** - р╕лр╕Щр╣Йр╕▓р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н
  - р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ
  - р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕Щр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н
  - р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ер╕╣р╕Бр╕Др╣Йр╕▓р╣Бр╕ер╕░р╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣Ир╕Ир╕▒р╕Фр╕кр╣Ир╕З
  - Timeline р╕Вр╕нр╕Зр╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕б
  - р╕гр╕░р╕Ър╕Ър╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕кр╕Цр╕▓р╕Щр╕░

- [x] **Order Creation Form** - р╕лр╕Щр╣Йр╕▓р╕кр╕гр╣Йр╕▓р╕Зр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╣Гр╕лр╕бр╣И
  - р╣Ар╕ер╕╖р╕нр╕Бр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Ир╕▓р╕Бр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Чр╕╡р╣Ир╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕бр╕нр╕Ър╕лр╕бр╕▓р╕в
  - р╕Др╣Йр╕Щр╕лр╕▓р╣Бр╕ер╕░р╣Ар╕ер╕╖р╕нр╕Бр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Бр╕Ър╕Ъ dynamic
  - р╕гр╕░р╕Ър╕Ър╕Др╕│р╕Щр╕зр╕Ур╕гр╕▓р╕Др╕▓р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
  - р╕гр╕░р╕Ър╕Ър╕кр╣Ир╕зр╕Щр╕ер╕Фр╣Бр╕Ър╕Ър╣Ар╕Ыр╕нр╕гр╣Мр╣Ар╕Лр╣Зр╕Щр╕Хр╣М
  - р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╕▓р╕гр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щр╣Бр╕ер╕░р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕кр╣Ир╕З

- [x] **API Endpoints** - RESTful API
  - POST /orders.php?action=store - р╕кр╕гр╣Йр╕▓р╕Зр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╣Гр╕лр╕бр╣И
  - POST /orders.php?action=update_status - р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕кр╕Цр╕▓р╕Щр╕░
  - GET /orders.php?action=export - р╕кр╣Ир╕Зр╕нр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е
  - GET /orders.php?action=get_products - р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕┤р╕Щр╕Др╣Йр╕▓

### ЁЯФД р╕Бр╕│р╕ер╕▒р╕Зр╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г (In Progress)

#### 4. Admin Features
- [ ] User Management System
- [ ] Product Management System
- [ ] System Settings
- [ ] Data Import/Export

### тЬЕ р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕ер╣Ир╕▓р╕кр╕╕р╕Ф (Latest Fixes - 2025-01-02)
- **User Name Display**: р╣Бр╕кр╕Фр╕Зр╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╣Гр╕Щр╕Чр╕╕р╕Бр╕лр╕Щр╣Йр╕▓
- **Dashboard Data**: р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е KPI р╣Бр╕ер╕░р╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕б
- **Customer Detail Page**: р╣Бр╕кр╕Фр╕Зр╕Ир╕│р╕Щр╕зр╕Щр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╣Бр╕ер╕░р╕Ыр╕╕р╣Ир╕бр╕Фр╕╣р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф
- **Order Management**: р╣Ар╕Юр╕┤р╣Ир╕бр╕Ыр╕╕р╣Ир╕бр╣Бр╕Бр╣Йр╣Др╕Вр╣Бр╕ер╕░р╕ер╕Ър╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н
- **UI/UX Improvements**: 
  - р╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓ sidebar р╣Др╕бр╣Ир╕кр╕бр╣Ир╕│р╣Ар╕кр╕бр╕нр╕кр╕│р╕лр╕гр╕▒р╕Ъ telesales role
  - р╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓ chart height р╣Ар╕Юр╕┤р╣Ир╕бр╣Бр╕Ър╕Ър╣Др╕бр╣Ир╕гр╕╣р╣Йр╕Ир╕Ъ
  - р╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓ viewOrder function р╣Др╕бр╣Ир╕Чр╕│р╕Зр╕▓р╕Щ
  - р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕З minimalist design р╣Гр╕лр╣Йр╕кр╕нр╕Фр╕Др╕ер╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Чр╕╕р╕Бр╕лр╕Щр╣Йр╕▓
  - **CSS Consistency Fix**: р╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓ CSS р╣Др╕бр╣Ир╕кр╕бр╣Ир╕│р╣Ар╕кр╕бр╕нр╕гр╕░р╕лр╕зр╣Ир╕▓р╕З customers.php р╣Бр╕ер╕░р╕лр╕Щр╣Йр╕▓р╕нр╕╖р╣Ир╕Щр╣Ж
  - **Orders Page Issues Fix**: р╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓р╕лр╕Щр╣Йр╕▓ orders.php р╣Бр╕ер╕░ orders.php?action=create р╕кр╕│р╕лр╕гр╕▒р╕Ъ telesales role

### ЁЯУЛ р╕Зр╕▓р╕Щр╕Чр╕╡р╣Ир╣Ар╕лр╕ер╕╖р╕н (Pending)

#### 5. Admin Features
- [ ] User Management System
- [ ] Product Management System
- [ ] System Settings
- [ ] Data Import/Export

#### 6. Automation & Cron Jobs
- [ ] Customer Recall Job
- [ ] Customer Grade Update Job
- [ ] Data Cleanup Job

#### 7. Testing & Quality Assurance
- [ ] Unit Testing
- [ ] Integration Testing
- [ ] User Acceptance Testing

#### 8. Performance & Security
- [ ] Database Optimization
- [ ] Security Implementation
- [ ] Performance Testing

## ЁЯПЧя╕П р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М

```
CRM-CURSOR/
тФЬтФАтФА app/
тФВ   тФЬтФАтФА core/
тФВ   тФВ   тФЬтФАтФА Auth.php
тФВ   тФВ   тФЬтФАтФА Database.php
тФВ   тФВ   тФФтФАтФА Router.php
тФВ   тФЬтФАтФА controllers/
тФВ   тФВ   тФФтФАтФА CustomerController.php
тФВ   тФЬтФАтФА services/
тФВ   тФВ   тФФтФАтФА CustomerService.php
тФВ   тФФтФАтФА views/
тФВ       тФЬтФАтФА auth/
тФВ       тФВ   тФФтФАтФА login.php
тФВ       тФЬтФАтФА dashboard/
тФВ       тФВ   тФЬтФАтФА admin.php
тФВ       тФВ   тФЬтФАтФА index.php
тФВ       тФВ   тФЬтФАтФА supervisor.php
тФВ       тФВ   тФФтФАтФА telesales.php
тФВ       тФЬтФАтФА customers/
тФВ       тФВ   тФЬтФАтФА index.php
тФВ       тФВ   тФФтФАтФА show.php
тФВ       тФФтФАтФА errors/
тФВ           тФФтФАтФА error.php
тФЬтФАтФА api/
тФВ   тФФтФАтФА customers.php
тФЬтФАтФА assets/
тФВ   тФЬтФАтФА css/
тФВ   тФВ   тФФтФАтФА app.css
тФВ   тФФтФАтФА js/
тФВ       тФЬтФАтФА customers.js
тФВ       тФФтФАтФА sidebar.js
тФЬтФАтФА config/
тФВ   тФФтФАтФА config.php
тФЬтФАтФА customers.php
тФЬтФАтФА dashboard.php
тФЬтФАтФА index.php
тФЬтФАтФА login.php
тФЬтФАтФА logout.php
тФФтФАтФА README.md
```

## ЁЯЪА р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### 1. р╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ
```
URL: https://www.prima49.com/Customer/
р╕Ър╕▒р╕Нр╕Кр╕╡р╕Чр╕Фр╕кр╕нр╕Ъ:
- Admin: username = admin, password = password
- Supervisor: username = supervisor1, password = password
- Telesales: username = telesales1, password = password
```

### 2. Customer Management
```
URL: https://www.prima49.com/Customer/customers.php
р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М:
- р╕Фр╕╣р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Хр╕▓р╕бр╕Хр╕░р╕Бр╕гр╣Йр╕▓ (Do, New, Follow-up, Existing)
- р╕Бр╕гр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▓р╕бр╕кр╕Цр╕▓р╕Щр╕░, р╣Ар╕Бр╕гр╕Ф, р╕Ир╕▒р╕Зр╕лр╕зр╕▒р╕Ф
- р╕бр╕нр╕Ър╕лр╕бр╕▓р╕вр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╣Гр╕лр╣Й Telesales (р╕кр╕│р╕лр╕гр╕▒р╕Ъ Supervisor/Admin)
- р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╣Вр╕Чр╕гр╣Бр╕ер╕░р╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕б
- р╕Фр╕╣р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕ер╕╣р╕Бр╕Др╣Йр╕▓
- р╕кр╣Ир╕Зр╕нр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Ыр╣Зр╕Щ CSV
```

### 3. API Endpoints
```
GET /api/customers.php?basket_type=distribution
POST /api/customers.php (р╕бр╕нр╕Ър╕лр╕бр╕▓р╕вр╕ер╕╣р╕Бр╕Др╣Йр╕▓)
POST /api/customers.php?action=recall (р╕Фр╕╢р╕Зр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Бр╕ер╕▒р╕Ъ)
POST /api/customers.php?action=log_call (р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╣Вр╕Чр╕г)
GET /api/customers.php?action=export (р╕кр╣Ир╕Зр╕нр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е)
```

## ЁЯОп Business Logic

### Customer Basket System
1. **Distribution Basket** - р╕ер╕╣р╕Бр╕Др╣Йр╕▓р╣Гр╕лр╕бр╣Ир╕Чр╕╡р╣Ир╕гр╕нр╕Бр╕▓р╕гр╕бр╕нр╕Ър╕лр╕бр╕▓р╕в
2. **Assigned Basket** - р╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕бр╕нр╕Ър╕лр╕бр╕▓р╕вр╣Гр╕лр╣Й Telesales
3. **Waiting Basket** - р╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╕Цр╕╣р╕Бр╕Фр╕╢р╕Зр╕Бр╕ер╕▒р╕Ъ (р╕гр╕н 30 р╕зр╕▒р╕Щ)

### Customer Grading System
- **A+**: р╕вр╕нр╕Фр╕Лр╕╖р╣Йр╕н тЙе 50,000 р╕Ър╕▓р╕Ч
- **A**: р╕вр╕нр╕Фр╕Лр╕╖р╣Йр╕н тЙе 10,000 р╕Ър╕▓р╕Ч
- **B**: р╕вр╕нр╕Фр╕Лр╕╖р╣Йр╕н тЙе 5,000 р╕Ър╕▓р╕Ч
- **C**: р╕вр╕нр╕Фр╕Лр╕╖р╣Йр╕н тЙе 2,000 р╕Ър╕▓р╕Ч
- **D**: р╕вр╕нр╕Фр╕Лр╕╖р╣Йр╕н < 2,000 р╕Ър╕▓р╕Ч

### Temperature Status
- **ЁЯФе Hot**: р╕ер╕╣р╕Бр╕Др╣Йр╕▓р╣Гр╕лр╕бр╣И (30 р╕зр╕▒р╕Щ) р╕лр╕гр╕╖р╕нр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╣Ар╕Бр╕гр╕Ф A+ р╕Чр╕╡р╣Ир╕Лр╕╖р╣Йр╕нр╣Гр╕Щ 60 р╕зр╕▒р╕Щ
- **ЁЯМдя╕П Warm**: р╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╕Лр╕╖р╣Йр╕нр╣Гр╕Щ 180 р╕зр╕▒р╕Щ
- **тЭДя╕П Cold**: р╕ер╕╣р╕Бр╕Др╣Йр╕▓р╣Ар╕Бр╣Ир╕▓р╕Чр╕╡р╣Ир╕бр╕╡р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╕Лр╕╖р╣Йр╕н
- **ЁЯзК Frozen**: р╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕бр╕╡р╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕б

### Auto Recall Rules
- р╕ер╕╣р╕Бр╕Др╣Йр╕▓р╣Гр╕лр╕бр╣Ир╣Др╕бр╣Ир╕бр╕╡р╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╣Гр╕Щ 30 р╕зр╕▒р╕Щ тЖТ р╕Бр╕ер╕▒р╕Ър╣Др╕Ы Distribution Basket
- р╕ер╕╣р╕Бр╕Др╣Йр╕▓р╣Ар╕Бр╣Ир╕▓р╣Др╕бр╣Ир╕бр╕╡р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╣Гр╕Щ 90 р╕зр╕▒р╕Щ тЖТ р╣Др╕Ы Waiting Basket
- р╕ер╕╣р╕Бр╕Др╣Йр╕▓р╣Гр╕Щ Waiting Basket р╕Др╕гр╕Ъ 30 р╕зр╕▒р╕Щ тЖТ р╕Бр╕ер╕▒р╕Ър╣Др╕Ы Distribution Basket

## ЁЯФз р╕Бр╕▓р╕гр╕Юр╕▒р╕Тр╕Щр╕▓

### Environment
- **Production**: https://www.prima49.com/Customer/
- **Database**: primacom_Customer
- **PHP Version**: 8.0.30
- **Framework**: Custom MVC with Bootstrap 5

### Development Tools
- **IDE**: VS Code р╕лр╕гр╕╖р╕н PhpStorm
- **Database**: MySQL 8.0+
- **Version Control**: Git
- **Testing**: PHPUnit (planned)

## ЁЯУК р╕кр╕Цр╕┤р╕Хр╕┤р╕Бр╕▓р╕гр╕Юр╕▒р╕Тр╕Щр╕▓

- **р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕З**: 15+ р╣Др╕Яр╕ер╣М
- **р╕Ър╕гр╕гр╕Чр╕▒р╕Фр╣Вр╕Др╣Йр╕Ф**: ~2,500+ р╕Ър╕гр╕гр╕Чр╕▒р╕Ф
- **р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕лр╕ер╕▒р╕Б**: 8+ р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М
- **API Endpoints**: 5+ endpoints
- **UI Components**: 10+ components

## ЁЯОЙ р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М

р╕гр╕░р╕Ър╕Ъ Customer Management р╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Юр╕▒р╕Тр╕Щр╕▓р╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щр╕Хр╕▓р╕бр╣Ар╕нр╕Бр╕кр╕▓р╕гр╕нр╕нр╕Бр╣Бр╕Ър╕Ър╣Бр╕ер╕░р╕Др╕зр╕▓р╕бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Чр╕▓р╕Зр╕Шр╕╕р╕гр╕Бр╕┤р╕И:

тЬЕ **р╕гр╕░р╕Ър╕Ър╕Хр╕░р╕Бр╕гр╣Йр╕▓р╕ер╕╣р╕Бр╕Др╣Йр╕▓** - р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╣Бр╕Ир╕Бр╕Ир╣Ир╕▓р╕вр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤  
тЬЕ **р╕гр╕░р╕Ър╕Ър╣Ар╕Бр╕гр╕Фр╕ер╕╣р╕Бр╕Др╣Йр╕▓** - р╕Др╕│р╕Щр╕зр╕Ур╣Ар╕Бр╕гр╕Фр╕Хр╕▓р╕бр╕вр╕нр╕Фр╕Лр╕╖р╣Йр╕н  
тЬЕ **р╕гр╕░р╕Ър╕Ър╕кр╕Цр╕▓р╕Щр╕░р╕нр╕╕р╕Ур╕лр╕ар╕╣р╕бр╕┤** - р╕Ир╕▒р╕Фр╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Хр╕▓р╕бр╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕б  
тЬЕ **р╕гр╕░р╕Ър╕Ър╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╣Вр╕Чр╕г** - р╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Бр╕▓р╕гр╕Ыр╕Пр╕┤р╕кр╕▒р╕бр╕Юр╕▒р╕Щр╕Шр╣Мр╕ер╕╣р╕Бр╕Др╣Йр╕▓  
тЬЕ **р╕гр╕░р╕Ър╕Ър╕бр╕нр╕Ър╕лр╕бр╕▓р╕вр╕ер╕╣р╕Бр╕Др╣Йр╕▓** - р╕кр╕│р╕лр╕гр╕▒р╕Ъ Supervisor/Admin  
тЬЕ **р╕гр╕░р╕Ър╕Ър╕Фр╕╢р╕Зр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Бр╕ер╕▒р╕Ъ** - р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Хр╕нр╕Ър╕кр╕Щр╕нр╕З  
тЬЕ **р╕гр╕░р╕Ър╕Ър╕кр╣Ир╕Зр╕нр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е** - Export р╣Ар╕Ыр╣Зр╕Щ CSV  
тЬЕ **UI/UX р╕Чр╕╡р╣Ир╕Чр╕▒р╕Щр╕кр╕бр╕▒р╕в** - Responsive р╣Бр╕ер╕░ User-friendly  

## ЁЯФД р╕Зр╕▓р╕Щр╕Хр╣Ир╕нр╣Др╕Ы

1. **Order Management System** - р╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н
2. **Admin Features** - р╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╣Бр╕ер╕░р╕кр╕┤р╕Щр╕Др╣Йр╕▓
3. **Automation** - Cron Jobs р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
4. **Testing** - р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╕гр╕░р╕Ър╕Ъ
5. **Optimization** - р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Ю

## ЁЯЪи р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓ (Troubleshooting)

### Modal Backdrop Issue
**р╕Ыр╕▒р╕Нр╕лр╕▓**: р╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕Ыр╕┤р╕Ф modal р╕лр╕гр╕╖р╕н popup р╕Ир╕░р╕бр╕╡ `modal-backdrop fade show` р╕Др╕ер╕╕р╕бр╕лр╕Щр╣Йр╕▓р╕Ир╕н р╕Чр╕│р╣Гр╕лр╣Йр╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Бр╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕нр╕░р╣Др╕гр╣Др╕Фр╣Й

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╣Др╕В**:
1. **р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤**: р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Ф backdrop р╕Чр╕╕р╕Б 5 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡
2. **Keyboard Shortcut**: р╕Бр╕Ф `Ctrl+Shift+B` р╣Ар╕Юр╕╖р╣Ир╕нр╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╕Фр╣Ир╕зр╕Щ
3. **р╕Др╕ер╕┤р╕Б Backdrop**: р╕Др╕ер╕┤р╕Бр╕Чр╕╡р╣И backdrop р╕Чр╕╡р╣Ир╣Ар╕лр╕ер╕╖р╕нр╕нр╕вр╕╣р╣Ир╣Ар╕Юр╕╖р╣Ир╕нр╕ер╕Ър╕нр╕нр╕Б
4. **Console Command**: р╣Ар╕Ыр╕┤р╕Ф Developer Tools р╣Бр╕ер╕░р╕Юр╕┤р╕бр╕Юр╣М `forceCleanupBackdrops()`

**р╕Бр╕▓р╕гр╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щ**:
- р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Ф backdrop р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╣Ар╕бр╕╖р╣Ир╕нр╕Ыр╕┤р╕Ф modal
- р╕бр╕╡ CSS rules р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щ backdrop р╕Лр╣Йр╕нр╕Щр╕Чр╕▒р╕Ъ
- Event listeners р╕кр╕│р╕лр╕гр╕▒р╕Ъ modal events р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф

**р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Вр╣Йр╕нр╕З**:
- `app/views/customers/show.php` - р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ cleanup
- `test_modal_backdrop_cleanup.php` - р╣Др╕Яр╕ер╣Мр╕Чр╕Фр╕кр╕нр╕Ъ
- `app/views/layouts/main.php` - global cleanup functions

---

**р╕Юр╕▒р╕Тр╕Щр╕▓р╣Вр╕Фр╕в**: AI Assistant  
**р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕нр╕▒р╕Ыр╣Ар╕Фр╕Х**: 2025-01-02  
**р╣Ар╕зр╕нр╕гр╣Мр╕Кр╕▒р╕Щ**: 1.0.0 