# ü§ñ ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Cron Jobs ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö CRM SalesTracker

## üìã ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∑‡∏ô‡∏ô‡∏µ‡πâ

### 1. **‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏î‡∏•‡∏≠‡∏á**
```sql
-- ‡∏£‡∏±‡∏ô‡πÑ‡∏ü‡∏•‡πå create_sample_data.sql ‡πÉ‡∏ô phpMyAdmin
-- ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏π‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
```

### 2. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô**
```bash
# ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏î‡∏π‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö
http://your-domain.com/manual_test_cron.php

# ‡∏´‡∏£‡∏∑‡∏≠
http://your-domain.com/test_cron_jobs.php
```

## üñ•Ô∏è ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Cron Jobs ‡πÉ‡∏ô Server

### **‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ cPanel (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Shared Hosting)**

1. **‡πÄ‡∏Ç‡πâ‡∏≤ cPanel** ‚Üí **Cron Jobs**

2. **‡πÄ‡∏û‡∏¥‡πà‡∏° Cron Job ‡πÉ‡∏´‡∏°‡πà:**
   - **Minute:** 0
   - **Hour:** 1  
   - **Day:** *
   - **Month:** *
   - **Weekday:** *
   - **Command:** `/usr/bin/php /home/primacom/domains/prima49.com/public_html/Customer/cron/run_all_jobs.php`

3. **‡∏´‡∏£‡∏∑‡∏≠ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏¢‡∏Å‡∏ó‡∏µ‡∏•‡∏∞‡∏á‡∏≤‡∏ô:**
   ```bash
   # ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏Å‡∏£‡∏î‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ - ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô 2:00 ‡∏ô.
   0 2 * * * /usr/bin/php /home/primacom/domains/prima49.com/public_html/Customer/cron/update_customer_grades.php
   
   # ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ - ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô 2:30 ‡∏ô.
   30 2 * * * /usr/bin/php /home/primacom/domains/prima49.com/public_html/Customer/cron/update_customer_temperatures.php
   
   # ‡∏™‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô - ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô 3:00 ‡∏ô.
   0 3 * * * /usr/bin/php /home/primacom/domains/prima49.com/public_html/Customer/cron/send_recall_notifications.php
   ```

### **‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ Command Line (VPS/Dedicated Server)**

1. **‡πÄ‡∏Ç‡πâ‡∏≤ SSH**
2. **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç crontab:**
   ```bash
   crontab -e
   ```

3. **‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ:**
   ```bash
   # CRM SalesTracker Cron Jobs
   0 1 * * * /usr/bin/php /path/to/your/project/cron/run_all_jobs.php >> /path/to/your/project/logs/cron.log 2>&1
   ```

4. **‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏≠‡∏≠‡∏Å** (Ctrl+X, Y, Enter)

### **‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: ‡πÉ‡∏ä‡πâ URL Cron (Backup Plan)**

‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ PHP CLI ‡πÑ‡∏î‡πâ ‡πÉ‡∏ä‡πâ URL cron ‡πÅ‡∏ó‡∏ô:

1. **‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `cron_web.php`:**
   ```php
   <?php
   // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö IP ‡∏´‡∏£‡∏∑‡∏≠ token ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢
   if ($_GET['token'] !== 'your-secret-token-here') {
       die('Unauthorized');
   }
   
   require_once 'app/services/CronJobService.php';
   $cronService = new CronJobService();
   $result = $cronService->runAllJobs();
   echo json_encode($result);
   ?>
   ```

2. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô cPanel ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å URL:**
   ```bash
   0 1 * * * curl -s "http://your-domain.com/cron_web.php?token=your-secret-token-here"
   ```

## üîç ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### **1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Log Files**
```bash
# ‡∏î‡∏π log ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô cron jobs
tail -f logs/cron.log

# ‡∏î‡∏π‡πÉ‡∏ô database
SELECT * FROM cron_job_logs ORDER BY created_at DESC LIMIT 10;
```

### **2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**
```sql
-- ‡∏î‡∏π‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏Å‡∏£‡∏î‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
SELECT * FROM activity_logs WHERE activity_type = 'grade_change' ORDER BY created_at DESC;

-- ‡∏î‡∏π‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤  
SELECT * FROM activity_logs WHERE activity_type = 'temperature_change' ORDER BY created_at DESC;

-- ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°
SELECT * FROM customer_recall_list WHERE created_date = CURDATE();

-- ‡∏î‡∏π‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ
SELECT * FROM notifications ORDER BY created_at DESC LIMIT 10;
```

### **3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤**
```sql
-- ‡∏î‡∏π‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ cron jobs
SELECT * FROM cron_job_settings;

-- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏±‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
UPDATE cron_job_settings SET last_run = NOW() WHERE job_name = 'update_customer_grades';
```

## üìä ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏ä‡πâ‡∏≤

### **‡∏ñ‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á ‡πÅ‡∏•‡∏∞ Cron Jobs ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:**

1. **‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏Å‡∏£‡∏î:**
   - ‡∏™‡∏°‡∏ó‡∏£‡∏á ‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏µ: B ‚Üí A+ (‡∏¢‡∏≠‡∏î‡∏ã‡∏∑‡πâ‡∏≠ ‡∏ø120,000)
   - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡∏£‡∏î

2. **‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥:**
   - ‡∏™‡∏°‡∏û‡∏£ ‡∏´‡∏≤‡∏¢‡πÑ‡∏õ: warm ‚Üí frozen (95+ ‡∏ß‡∏±‡∏ô)
   - ‡∏™‡∏°‡∏´‡∏°‡∏≤‡∏¢ ‡∏£‡∏≠‡∏î‡∏µ: frozen (100+ ‡∏ß‡∏±‡∏ô)
   - ‡∏™‡∏°‡πÉ‡∏à ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î: cold (60+ ‡∏ß‡∏±‡∏ô)

3. **‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°:**
   - ‡∏à‡∏∞‡∏°‡∏µ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ 5-6 ‡∏£‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏Å‡∏¥‡∏ô 30 ‡∏ß‡∏±‡∏ô

4. **‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô:**
   - ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô telesales ‡πÅ‡∏•‡∏∞ supervisor ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô

## üö® ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### **‡∏ñ‡πâ‡∏≤ Cron Jobs ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:**

1. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö PHP Path:**
   ```bash
   which php
   # ‡∏´‡∏£‡∏∑‡∏≠
   whereis php
   ```

2. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÑ‡∏ü‡∏•‡πå:**
   ```bash
   chmod +x cron/*.php
   ```

3. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á:**
   ```bash
   php cron/run_all_jobs.php
   ```

4. **‡∏î‡∏π Error Log:**
   ```bash
   tail -f /var/log/cron.log
   # ‡∏´‡∏£‡∏∑‡∏≠
   tail -f logs/cron.log
   ```

## üìû ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤:
1. ‡∏™‡πà‡∏á‡∏†‡∏≤‡∏û‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ cPanel Cron Jobs
2. ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô `manual_test_cron.php`
3. ‡∏™‡πà‡∏á error log ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô

---

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Cron Jobs ‡∏≠‡∏≤‡∏à‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞ hosting provider ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏° environment ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì